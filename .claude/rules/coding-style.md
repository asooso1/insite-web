# 코딩 스타일 규칙

적용 대상: `**/*.ts`, `**/*.tsx`

## 핵심 원칙

**불변성 (최우선):**
- 객체 직접 변경 금지 → 스프레드 연산자로 새 객체 생성
- `user.name = x` ❌ → `{ ...user, name: x }` ✅

**파일 크기:**
- 함수: 50줄 이하
- 파일: 200~400줄 권장, 800줄 절대 상한
- 비즈니스 도메인 기준으로 모듈 분리

**에러 처리:**
- 모든 실패 지점에 명시적 에러 처리 필수
- async/await + try-catch 사용
- 사용자 노출 메시지는 한국어로

**입력 검증:**
- 외부 데이터(사용자 입력, API 응답) 전부 신뢰 불가로 처리
- Zod 스키마 기반 검증 적용
- 검증 실패 시 조기 종료

**TypeScript:**
- `any` 타입 금지 (CLAUDE.md 핵심 규칙)
- console.log 프로덕션 코드 금지
- 모든 public 함수에 반환 타입 명시

**React/Next.js:**
- useEffect 의존성 배열 완전히 작성
- 렌더 중 state 변경 금지
- 리스트 key에 index 사용 금지
- prop drilling 3단계 초과 시 Context 또는 Zustand 검토

## 커밋 전 체크리스트

- [ ] 함수 50줄 이하
- [ ] 파일 800줄 이하
- [ ] 중첩 4단계 이하
- [ ] 에러 시나리오 처리됨
- [ ] 하드코딩된 값 없음
- [ ] console.log 없음
- [ ] `any` 타입 없음
- [ ] `!important` 없음
- [ ] 인라인 스타일 없음
