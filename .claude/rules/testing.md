# 테스트 규칙

적용 대상: `**/*.ts`, `**/*.tsx`

## 기준

- 최소 코드 커버리지: 80%
- 인증/보안/핵심 비즈니스 로직: 100%

## 필수 테스트 유형

1. **단위 테스트**: 독립 함수/훅
2. **통합 테스트**: API 클라이언트, React Query 훅
3. **E2E 테스트**: 핵심 사용자 워크플로우 (Playwright)

## TDD 워크플로우

```
1. 테스트 먼저 작성 (RED)
2. 테스트 실패 확인
3. 최소 구현 코드 작성 (GREEN)
4. 테스트 통과 확인
5. 리팩토링 후 검증 (커버리지 80%+)
```

## 테스트 실패 시

- tdd-guide 에이전트 실행
- 테스트 격리 확인
- mock 정확성 검증
- 테스트 수정보다 구현 수정 우선

## 필수 엣지 케이스

- null/undefined 입력
- 빈 배열/객체
- API 오류 응답
- 네트워크 타임아웃
- 권한 없는 접근

## 체크리스트

- [ ] 모든 public 함수 테스트됨
- [ ] API 엔드포인트 호출 테스트됨
- [ ] 오류 경로 포함됨
- [ ] 외부 서비스 mock 처리됨
- [ ] 테스트 간 독립성 유지됨
- [ ] 커버리지 80% 이상
